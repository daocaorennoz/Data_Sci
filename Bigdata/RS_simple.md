# 推荐

## 推荐的几种方法

### 基于人口统计的推荐

利用人口统计的信息来进行推荐，主要利用的信息为年龄段，性别，地区等固有统计信息

### 基于内容的推荐

以电影推荐举例：
内容：
- 物品元数据

数据格式：年代、片名、描述、类别、情感、情节、角色

### 基于协同过滤的推荐

- 基于用户的协同过滤
计算用户相似度，将相似度比较高的用户倾向的物品推荐给彼此。
- 基于物品的协同过滤

## 推荐系统的作用

在合适的场景、合适的时机，通过合适的渠道、把合适的内容推荐给合适的用户。
合适的地方：用户中心、首页、详情页、购物车页、列表页
合适的时机：时间段、天气、季节、节日
合适的用户：个人用户、群体用户
合适的渠道：Web网页、邮件、APP、短信
合适的内容：推荐商品、推荐广告、推荐资讯

提升用户忠诚、提升用户粘性、提升销售额、提升交叉销售、提升长尾销售、提升毛利。

## 推荐系统的本质

rating prediction：评分预测
Top-N Recommendation：Top-N的推荐

## 推荐系统的评价标准

- 交互和设计的角度
- 数据的角度
- 领域只是的角度
- 模型的角度


## 搜索和推荐的区别

搜索可以用关键词来描述需求，推荐是不需要自己进行描述
搜索和推荐是互补的

## 个性化推荐/非个性化推荐

根掘场景的需求，混合使用

## 反馈

- 显式反馈

喜欢/不喜欢，但样本少，并且不客观，不靠谱。

- 隐式反馈

浏览、点击、购买、收藏、停留时间

选择排序：交易、预订、添加购物车、搜索、喜欢、评分、分享评论、

- 如何选择反馈数据

与用户兴趣相关、覆盖度、反馈代价

## 推荐系统的架构

- 应用层

猜你喜欢、相关推荐、信息流推荐、个性化Push、搜索结果少的推荐

线上服务：http、RPC

- 策略层

召回策略：协同过滤、矩阵分解、DNN、关联规则、地域热门、兴趣召回
排序模型：点击率、转化率、停留时间、LR、GBDT、模型融合、DNN
基础数据计算：用户画像、帖子画像、数据分析、索引构建、知识图谱

计算工具：MapReduce、Spark、Tensorflow、Hive、Sklearn、XgBoost等。

- 数据层

业务数据： 用户数据、物品数据、行为数据
日志数据： 前端埋点、后端埋点（A/B test）

数据存储：HBase、HDFS

另一种划分：

- Offline层

    对海量数据进行离线加工：MapReduce or Spark

- Nearline层

    利用流式处理技术对实时产生的数据做加工：Storm or SparkStreaming

- Online层

负责在线计算，处理相对简单的运算逻辑：在线引擎 这个因公司而异，可以简单用Webpy Server来模拟。


## 推荐系统的流程

item库 -> 召回 -> 候选集合 -> 排序 -> 排序列表 -> 规则 -> Top N -> 展示 -> 结果页面

召回：筛选出内容感兴趣的物品
排序：对物品列表进行打分排序
规则：通常是过滤逻辑、比如去重、业务过滤

## 推荐系统的设计

数据层：用户行为的抽取+物品的数据 = 特征
将特征通过算法得到待推荐的候选集合，然后经过筛选、排序以及解释性的理由，得到最终的推荐结果。

